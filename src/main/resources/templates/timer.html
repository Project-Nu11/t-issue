<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #timer {
            width: 506px;
            height: 506px;
            border-radius: 50%;
            font-size: 110px;
            border: 1px solid black;
            text-align: center;
            align-items: center
        }
    </style>
</head>
<body>
<div th:include="/common/header.html"></div>
<div id="main">
    <div>X</div>
    <div id="timer">10:00</div>
    <section>
        <button id="startBtn">시작</button> <!-- 시작버튼 클릭 시 ▶ -> ⏸ 모양으로 변경되도록 -->
        <button id="stopBtn">멈춤</button> <!-- 멈춤버튼 클릭 시 ⏸ -> ▶ 모양으로 변경되도록 -->
        <button id="resetBtn">초기화</button> <!-- 버튼(⏹) 클릭 시 10:00 으로 초기화-->
    </section>
</div>

<script>
    let totalSeconds = 10 * 60;
    let restSeconds = totalSeconds;
    let timerInterval = null;
    let isRunning = false;

    const tenMinute = document.getElementById("timer");
    const startBtn = document.getElementById("startBtn");
    const stopBtn = document.getElementById("stopBtn");
    const resetBtn = document.getElementById("resetBtn");

    function tenMinuteTimer() {
        let minutes = Math.floor(restSeconds / 60);
        let seconds = restSeconds % 60;
        tenMinute.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
        // 화면에 00:00 <- 식으로 표현하는 방법


        if (restSeconds > 0) {
            restSeconds--;
        } else {
            clearInterval(timerInterval);
            isRunning = false;
            alert("10분 종료");
        }
    }

    // 시작버튼
    startBtn.addEventListener("click", () => {
        if (!isRunning) {
            timerInterval = setInterval(tenMinuteTimer, 1000);
            isRunning = true;
        }
    });

    // 멈춤버튼
    stopBtn.addEventListener("click", () => {
        if (isRunning) {
            clearInterval(timerInterval);
            isRunning = false;
        }
    });

    // 초기화버튼
    resetBtn.addEventListener("click", () => {
        clearInterval(timerInterval);
        restSeconds = totalSeconds;
        isRunning = false;
        tenMinuteTimer();
    });

    tenMinuteTimer();

</script>
</body>
</html>