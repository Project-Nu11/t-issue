<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> 회원 탈퇴 </title>
    <style>
        .content {
            padding: 20px;
        }
        .title {
            font-weight: 700;
            font-size: 22px;
            margin: 10px 0 16px;
        }
        .card {
            border:1px solid rgba(0,0,0,.2);
            border-radius:8px;
            padding:16px;
            background:#fff;
        }
        .alert {
            margin-bottom:12px;
            padding:10px 12px;
            border-radius:8px;
        }
        .alert.error {
            background:#fff5f5;
            border:1px solid #f0bdbd;
        }
        .row {
            display:flex;
            gap:10px;
            align-items:center;
            margin-bottom:12px;
        }
        .label {
            width:100px;
            font-weight:600;
        }
        .input {
            flex:1;
            padding:10px 12px;
            border:1px solid rgba(0,0,0,.2);
            border-radius:8px;
        }
        .btn-row {
            display:flex;
            gap:10px;
            justify-content:flex-end;
            margin-top:8px;
        }
        .btn {
            padding:8px 12px;
            border:1px solid rgba(0,0,0,.25);
            border-radius:8px;
            background:#fff;
            cursor:pointer;
        }
        .danger {
            background:#fff0f0;
        }
    </style>
</head>
<body>
<div th:include="/common/header.html"></div>

<div id="main">
    <div class="content">
        <p class="title">회원 탈퇴</p>

        <div th:if="${error}" class="alert error" th:text="${error}"></div>
        <div class="card">
            <p style="margin-top:0; line-height:1.6;">
                <strong th:text="${memberId}">아이디</strong> 계정을 탈퇴합니다.<br>
                탈퇴 시 일부 데이터는 복구가 불가능할 수 있습니다.
            </p>

            <form th:action="@{/mypage/delete}" method="post" autocomplete="off">
                <!-- CSRF 사용 시 활성화
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                -->
                <div class="row">
                    <div class="label">현재 비밀번호</div>
                    <input class="input" type="password" name="currentPwd" required>
                </div>

                <div class="row" style="margin-top:8px;">
                    <label style="display:flex; gap:8px; align-items:center;">
                        <input type="checkbox" id="agree" required>
                        <span>안내 사항을 확인했으며, 계정 탈퇴에 동의합니다.</span>
                    </label>
                </div>

                <div class="btn-row">
                    <a th:href="@{/mypage/select}" class="btn">취소</a>
                    <button type="submit" class="btn danger" onclick="return document.getElementById('agree').checked;">
                        탈퇴하기
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>